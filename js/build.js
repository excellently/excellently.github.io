!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=1)}([function(t,e){function l(t){Ext.MessageBox.show({title:"Внимание!",msg:t,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.WARNING})}function o(t,e){t.focus(),t.select(),l(e)}t.exports={init:function(){var t=+document.getElementById("criterionsCount").value,e=+document.getElementById("alternativesCount").value;return{isRightCounts:function(){return 2<=t&&3<=e&&t<=10&&e<=10},isRightListValues:function(t,e){var n=document.getElementById(t);if(n){for(var r=n.childNodes,i="criterions"===t?1:0,a=0;a<r.length;a++)if(!r[a].childNodes[i].value)return e||l("Заполните все поля"),!1;return!0}return l("Вы еще не ввели данные"),!1},isObjectMatrix:function(t){return!!document.getElementById("criterions").childNodes[t].childNodes[0].checked},isRightObjValue:function(t){var e=+t.value;return!(isNaN(e)||!isFinite(e)||""===t.value)||(o(t,"Введите число!"),!1)},isRightValue:function(t){var e=t.value.split(""),n=!1;if(1===e.length){var r=+e[0];n=r<=9&&0<r}if(3===e.length){var i=+e[0],a=e[1],l=+e[2];n=i<=9&&l<=9&&0<i&&0<l&&"/"===a&&(1===i||1===l)}return!!n||(o(t,"Введите корректное значение в данной ячейке!"),!1)}}},showWarnMsg:l}},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";n.r(e);n(3);var i=n(0),a=n(7);Ext.onReady(function(){var r=Ext.create("Ext.tab.Panel",{width:1100,padding:10,layout:{type:"hbox",align:"stretch",pack:"center"},items:[{title:"Входные данные",layout:{type:"hbox",align:"stretch"},items:[{xtype:"panel",layout:{type:"vbox",align:"stretch",pack:"center"},items:[{border:0,xtype:"panel",height:200,width:300,bodyStyle:"background-image: url(img/content.png);",html:'<section id="inputContent" class="inputContent"><section id="inputBlock"><table class="table"><tr><td><label for="criterionsCount">Кол-во критериев: </label></td><td><input type="number" class="inputData center" id="criterionsCount" value="2"max="10" min="2"></td></tr><tr><td><label for="alternativesCount">Кол-во альтернатив:</label></td><td><input type="number" class="inputData center" id="alternativesCount"value="3" max="10" min="3"></td></tr></table><input id="enterData" tabIndex = "-1"class="button" type="button" value="Ввести данные"></section></section><input type="button" tabIndex = "-1" id="createMatrixs"  class="button" value="Создать матрицы">'},{border:0,xtype:"panel",height:120,width:300,bodyStyle:"background-image: url(img/content.png);",layout:{type:"vbox",align:"stretch",pack:"end"},items:[{bodyStyle:"background-image: url(img/content.png);",border:0,xtype:"panel",html:'<input type="button" tabIndex = "-1" id="loadTestData" class="loadTestButton" value="Загрузить тестовые данные">'}]}]},{xtype:"panel",title:"Критерии",height:300,width:400,bodyStyle:"background-image: url(img/content.png);",layout:{type:"vbox",align:"stretch",pack:"center"},items:[{bodyStyle:"background-image: url(img/content.png);",border:0,height:300,margin:20,xtype:"panel",html:'<div id="dataCri" class="data"><div id="criterionsBlock" class="dataBlock toLeft"><div id="listCri"></div></div><p class="clr center"><small><em>Поставьте галочкунапротив критерия, если нужно вписать объективные значения</em></small></p></div>'}]},{xtype:"panel",title:"Альтернативы",height:300,width:400,bodyStyle:"background-image: url(img/content.png);",layout:{type:"vbox",align:"stretch",pack:"center"},items:[{bodyStyle:"background-image: url(img/content.png);",border:0,height:300,margin:20,xtype:"panel",html:'<div id="dataAlt" class="data"><div id="alternativesBlock" class="dataBlock toRight"></div><div id="listAlt"></div></div></div>'}]}]}],renderTo:"tabPanel"});document.getElementById("enterData").addEventListener("click",function(){a.enterData(r)}),document.getElementById("loadTestData").addEventListener("click",function(){Ext.Ajax.request({url:"data/test.json",success:function(t){var e=JSON.parse(t.responseText),n=a.loadTestData(r,e);a.enterData(r,n.setCounts,n.setValues)},failure:function(){i.showWarnMsg("Request failed!")}})}),document.getElementById("createMatrixs").addEventListener("click",function(){a.createMatrixs(r)}),document.getElementById("readInfo").addEventListener("click",function(){Ext.create("Ext.window.Window",{title:"Метод анализа иерархий",items:[{border:0,bodyStyle:"background-image: url(img/content.png);",xtype:"panel",html:'<section class="description"><p class="textIndent">Суть метода в попарном сравнении по качественной шкале, с последующим преобразованием в баллы:</p><ul class="listToRight"><li>равно, безразлично = 1;</li><li>немного лучше (хуже) = 3 (1/3);</li><li>лучше (хуже) = 5 (1/5);</li><li>значительно лучше (хуже) = 7 (1/7);</li><li>принципиально лучше (хуже) = 9 (1/9).</li></ul><p class="textIndent">При промежуточном мнении используются промежуточные баллы 2, 4, 6, 8.</p><p class="textIndent"><em>a<sub>ij</sub></em> – отношение критерия i к критерию j.</p><p class="textIndent">Составляем аналогичные матрицы сравнения вариантов (альтернатив) по каждому критерию.</p><p class="textIndent">СИ является индексом согласованности для сгенерированных случайным образом величин по шкале от одного до девяти положительной обратно симметрической матрицы. В следующей таблице приведены средние (модельные) значения СИ для матриц порядка n = 1:15.</p><table class="center table-si"><caption>Таблица 1. Индексы согласованности</caption><tr><td>n</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td></tr><tr><td>СИ</td><td>0</td><td>0</td><td>0,58</td><td>0,9</td><td>1,12</td><td>1,24</td><td>1,32</td><td>1,41</td><td>1,45</td><td>1,49</td><td>1,51</td><td>1,48</td><td>1,56</td><td>1,57</td><td>1,59</td></tr></table></section>'}]}).show()})})},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0,convertToAbsoluteUrls:!0,hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,r){var s={},n=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),a=function(t){var r={};return function(t,e){if("function"==typeof t)return t();if(void 0===r[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}r[t]=n}return r[t]}}(),o=null,d=0,l=[],c=r(6);function u(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=s[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(f(r.parts[a],e))}else{var l=[];for(a=0;a<r.parts.length;a++)l.push(f(r.parts[a],e));s[r.id]={id:r.id,refs:1,parts:l}}}}function m(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i],l=e.base?a[0]+e.base:a[0],o={css:a[1],media:a[2],sourceMap:a[3]};r[l]?r[l].parts.push(o):n.push(r[l]={id:l,parts:[o]})}return n}function p(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,n);n.insertBefore(e,i)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);0<=e&&l.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return g(e,t.attrs),p(t,e),e}function g(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function f(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var l=d++;n=o||(o=v(t)),r=x.bind(null,n,l,!1),i=x.bind(null,n,l,!0)}else i=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),p(t,e),e}(t),r=function(t,e,n){var r=n.css,i=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||a)&&(r=c(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var l=new Blob([r],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(l),o&&URL.revokeObjectURL(o)}.bind(null,n,t),function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}t.exports=function(t,l){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(l=l||{}).attrs="object"==typeof l.attrs?l.attrs:{},l.singleton||"boolean"==typeof l.singleton||(l.singleton=n()),l.insertInto||(l.insertInto="head"),l.insertAt||(l.insertAt="bottom");var o=m(t,l);return u(o,l),function(t){for(var e=[],n=0;n<o.length;n++){var r=o[n];(i=s[r.id]).refs--,e.push(i)}t&&u(m(t,l),l);for(n=0;n<e.length;n++){var i;if(0===(i=e[n]).refs){for(var a=0;a<i.parts.length;a++)i.parts[a]();delete s[i.id]}}}};var y=function(){var n=[];return function(t,e){return n[t]=e,n.filter(Boolean).join("\n")}}();function x(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var a=document.createTextNode(i),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(a,l[e]):t.appendChild(a)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,a=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:a+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,n){var p=n(0),h=n(8);function v(t){for(var e=document.getElementById(t).childNodes,n=e.length,r=new Array(n),i="criterions"===t?1:0,a=0;a<r.length;a++)r[a]=e[a].childNodes[i].value;return r}function g(t,e){var n=document.createElement("div");n.classList.add("objMatrix","center");var r=document.createElement("div");r.classList.add("objMatrix","center");var i=document.createElement("span");i.classList.add("span-matrix","center","inputData","inputData_strong");var a=document.createElement("input");a.classList.add("center","inputData"),a.style.borderWidth="2px";for(var l=0;l<=t.length+1;l++){var o=document.createElement("div");o.style.width="402px";for(var s=0;s<=2;s++){var d=i.cloneNode(!0),c=a.cloneNode(!0);if(c.style.width="130px",c.style.height="40px",c.style.fontSize="14px",0===l&&0===s){var u=document.createElement("input"),m=document.createElement("span");m.classList.add("spanForImage");var p=document.createElement("label");p.classList.add("label"),u.setAttribute("type","checkbox"),u.style.position="absolute",u.classList.add("upDown"),u.checked=!0,o.style.position="relative",u.style.top="13px",u.style.left="60px",p.appendChild(u),p.appendChild(m),o.appendChild(p)}0===l&&1===s?d.innerHTML=e:0===l&&2===s?d.innerHTML="Нормированное значение":0===s&&l===t.length+1?d.innerHTML="Сумма":0===s&&0!==l&&(d.innerHTML=t[l-1]),0===l||0===s?(o.style.display="table",o.style.margin="0 auto",o.appendChild(d)):((2===s||1===s&&l===t.length+1)&&(c.disabled=!0),o.appendChild(c))}r.appendChild(o)}return n.appendChild(r),n}function f(t,e){var n=document.createElement("div");n.classList.add("matrix","center");var r=document.createElement("div");r.classList.add("matrix","center");var i=document.createElement("input"),a=document.createElement("span");a.classList.add("span-matrix","center","inputData","inputData_strong"),i.classList.add("center","inputData"),i.style.borderWidth="2px",i.disabled=!0;for(var l=0;l<=t.length+1;l++){var o=document.createElement("div");o.style.width="".concat(134*(t.length+4),"px");for(var s=0;s<=t.length+3;s++){var d=i.cloneNode(!0),c=a.cloneNode(!0);d.style.width="130px",d.style.height="40px",d.style.fontSize="14px",l<s&&s<t.length+1&&(d.disabled=!1),l===s&&l!==t.length+1&&(d.value="1/1"),0===s&&l===t.length+1&&(c.innerHTML="Сумма"),0===l&&0===s?c.innerHTML=e:0===l&&s===t.length+3?c.innerHTML="Вектор приоритетов":0===l&&s===t.length+1?c.innerHTML="Произведение":0===l&&s===t.length+2?c.innerHTML="Корень (1/".concat(t.length,")"):0===l?c.innerHTML=t[s-1]:0===s&&l!==t.length+1&&(c.innerHTML=t[l-1]),0!==l&&0!==s?o.appendChild(d):(o.style.display="table",o.style.margin="0 auto",o.appendChild(c))}r.appendChild(o)}return n.appendChild(r),n}function y(t,e,n,r){var i=document.createElement("div");i.classList.add("matrix","center");var a=document.createElement("div");a.classList.add("matrix","center"),a.style.width="".concat(134*(e.length+1),"px");var l=document.createElement("span");l.classList.add("span-matrix","center","inputData");var o=document.createElement("div");o.style.width="".concat(134*e.length,"px"),o.style.float="right";var s=l.cloneNode(!0);s.style.height="20px",s.style.width="".concat(134*e.length,"px"),s.classList.add("inputData_strong"),s.innerHTML="Векторы приоритетов",o.style.display="table",o.style.margin="0 auto",o.appendChild(s),a.appendChild(o);for(var d=0;d<=t.length+1;d++){(o=document.createElement("div")).style.clear="both",o.style.width="".concat(130*(e.length+1),"px");for(var c=0;c<=e.length;c++){var u=l.cloneNode(!0);0===d&&0!==c?(u.innerHTML=e[c-1],u.classList.add("inputData_strong")):0!==d&&0===c&&d!==t.length+1?(u.innerHTML=t[d-1],u.classList.add("inputData_strong")):d===t.length+1&&0===c?(u.innerHTML="Веса критериев",u.classList.add("inputData_strong")):0===d&&0===c||d===t.length+1?0===d&&0===c||(u.innerHTML=r[c-1]):u.innerHTML=n[c-1][d-1],o.style.display="table",o.style.margin="0 auto",o.appendChild(u)}a.appendChild(o)}return i.appendChild(a),i}function x(t,e){var n=44*(t+2)+10+105+45;return n+=(44*(e+2)+15+120)*t-5+60-100*function(){for(var t=document.getElementById("criterions").childNodes,e=t.length,n=new Array(e),r=0,i=0;i<n.length;i++)t[i].childNodes[0].checked&&(r+=1);return r}()}function s(t){var e=p.init();if(e.isRightListValues("criterions")&&e.isRightListValues("alternatives")){var n=document.getElementById("matrixBlock");document.getElementById("matrixs")&&n.removeChild(document.getElementById("matrixs"));var r=document.createElement("section");r.setAttribute("id","matrixs");var i=v("criterions"),a=v("alternatives"),l=Ext.getCmp("matricesTab");l&&t.remove(l);var o=function(t,e,n){return t.insert(1,{title:"Матрицы попарных сравнений",id:"matricesTab",closable:!0,bodyStyle:"background-image: url(img/content.png);",width:1100,items:[{bodyStyle:"background-image: url(img/content.png);",html:'<section id="matrixBlock"><section>',padding:"10",border:0,height:x(e,n)}]})}(t,i.length,a.length);t.setActiveTab(o),n=document.getElementById("matrixBlock");var s,d=f(i,"Критерии");r.appendChild(d);for(var c=0;c<i.length;c++)s=e.isObjectMatrix(c)?g(a,i[c]):f(a,i[c]),r.appendChild(s);var u=function(t){var e=document.createElement("input");return e.setAttribute("id","calcButton"),e.setAttribute("type","button"),e.tabIndex="-1",e.value="Решить",e.classList.add("button"),e.classList.add("marginTop"),e}();r.appendChild(u);var m=function(t){var e=document.createElement("input");return e.setAttribute("id","resButton"),e.setAttribute("type","button"),e.tabIndex="-1",e.disabled=!0,e.value="Перейти к результатам",e.classList.add("resButton"),e}();r.appendChild(m),n.appendChild(r),document.getElementById("calcButton").onclick=function(){h.run(t,v,y)},document.getElementById("resButton").onclick=function(){!function(t){var e=Ext.getCmp("resultTab");e||(e=t.add({title:"Итоговые результаты",id:"resultTab",closable:!0,bodyStyle:"background-image: url(img/content.png);",width:1100,items:[{bodyStyle:"background-image: url(img/content.png);",html:h.getSectionResult().innerHTML,padding:"10",border:0}]})),t.setActiveTab(e)}(t)}}}function l(t,e,n){var r=document.getElementById(t),i=document.getElementById(n);i&&r.removeChild(i);var a=+document.getElementById(e).value,l=document.createElement("ol");l.setAttribute("id",n);var o=document.createElement("li");if(o.style.position="relative","criterions"===n){var s=document.createElement("input");s.setAttribute("type","checkbox"),s.style.position="absolute",s.style.top="1px",s.style.left="1px",s.tabIndex="-1",o.appendChild(s)}var d=document.createElement("input");d.classList.add("center","inputDataList"),d.style.width="300px",d.maxLength="30",d.setAttribute("type","text"),o.appendChild(d);for(var c=0;c<a;c++){var u=o.cloneNode(!0);l.appendChild(u)}r.appendChild(l)}function o(){if(document.getElementById("matrixs")){var t=document.getElementById("matrixBlock"),e=document.getElementById("matrixs");t.removeChild(e)}if(document.getElementById("resultContent")){var n=document.getElementById("main"),r=document.getElementById("resultContent");n.removeChild(r)}if(p.init().isRightCounts()){var i=document.getElementById("dataCri"),a=document.getElementById("dataAlt");l("listCri","criterionsCount","criterions"),l("listAlt","alternativesCount","alternatives"),i.style.display="block",a.style.display="block"}else p.showWarnMsg("Данные введены неверно: \n1) количество критериев должно быть больше либо равно 2;\n2) количество альтернатив должно быть больше либо равно 3;\n3) оба значения должны быть меньше либо равны 10.")}function d(t,e){for(var n=document.getElementById(t).childNodes,r=n.length,i=new Array(r),a="criterions"===t?1:0,l=0;l<i.length;l++)n[l].childNodes[a].value=e[l]}t.exports={loadTestData:function(t,e){var n=document.getElementById("criterionsCount"),r=document.getElementById("alternativesCount"),i=e.inputData.criterions.values,a=e.inputData.criterions.object,l=e.inputData.alternatives,o=e.matrixValues;return{setCounts:function(){n.value=i.length,r.value=l.length},setValues:function(){d("criterions",i),d("alternatives",l),function(t){for(var e=document.getElementById("criterions").childNodes,n=0;n<e.length;n++)e[n].childNodes[0].checked=t[n]}(a),s(t),function(t){for(var e=document.getElementById("matrixs").childNodes,n=0;n<e.length-2;n++){var r=e.item(n).childNodes[0],i=r.classList.contains("objMatrix"),a=r.childNodes,l=a.length-2,o=i?1:l,s=t[n].direction;i&&(a.item(0).childNodes[0].childNodes[0].checked=!("bottom"===s));for(var d=1;d<=l;d++){var c=a.item(d);if(i)c.childNodes[1].value=t[n].values[d-1];else for(var u=d;u<o;u++)c.childNodes[u+1].value=t[n].values[d-1][u-d]}}}(o),h.run(t,v,y)}}},createMatrixs:s,parseList:v,enterData:function(e,n,r){var t,i,a=Ext.getCmp("matricesTab"),l=Ext.getCmp("resultTab");!!document.getElementById("criterions")&&(t=!!v("criterions").join("").replace(/\s/g,""),i=!!v("alternatives").join("").replace(/\s/g,"")),a||l||t||i?Ext.MessageBox.show({title:"Предупреждение!",msg:"Все текущие данные будут утеряны. Продолжить?",buttons:Ext.MessageBox.YESNO,icon:Ext.MessageBox.WARNING,fn:function(t){"yes"===t&&(a&&e.remove(a),l&&e.remove(l),Ext.isFunction(n)&&n(),o(),Ext.isFunction(r)&&r())}}):(Ext.isFunction(n)&&n(),o(),Ext.isFunction(r)&&r())},createResultMatrix:y}},function(module,exports,__webpack_require__){var validation=__webpack_require__(0),sectionResult;function findAttitudeConsistency(t,e){var n=document.createElement("table");n.classList.add("attitudeConsistency");var r=document.createElement("tr");r.innerHTML="Оценка согласованности:",n.appendChild(r);var i=document.createElement("tr"),a=document.createElement("tr"),l=document.createElement("tr"),o=[0,0,.58,.9,1.12,1.24,1.32,1.41,1.45,1.49,1.51,1.48,1.56,1.57,1.59],s=0;i.innerHTML="&lambda;max = ";for(var d=0;d<t.length;d++)s+=t[d]*e[d],i.innerHTML+="(".concat(t[d],"x").concat(e[d],")"),d!==t.length-1?i.innerHTML+=" + ":i.innerHTML+=" = ".concat(+s.toFixed(3));n.appendChild(i);var c=t.length,u=Math.abs(s-c)/(c-1);a.innerHTML="ИС = |&lambda;max - n| / (n - 1) = |".concat(+s.toFixed(3)," - ").concat(c,"| / (").concat(c," - 1) = ").concat(+u.toFixed(5)),n.appendChild(a);var m,p=document.createElement("span"),h=+(u/o[c-1]).toFixed(3);return h<.1?(m=" < 0.1",p.classList.add("rightOs")):(m=" >= 0.1",p.classList.add("wrongOs")),isNaN(h)?p.innerHTML=h:p.innerHTML=h+m,l.innerHTML="ОС = ИС / СИ = ".concat(+u.toFixed(5)," / ").concat(o[c-1]," = "),l.appendChild(p),n.appendChild(l),n}function createReverseValue(t){var e=t.value;if(1===e.length)return"1/".concat(e);var n=e[0],r=e[2];return 1===r?e="".concat(r,"/").concat(n):1===n&&(e=1===n?r:n),e}function rang(t){for(var e,n,r=new Array(t.length),i=new Array(t.length),a=0;a<t.length;a++)i[a]=+t[a];for(var l=0;l<r.length;l++){for(var o=0;o<i.length;o++)if(void 0===r[o]){e=i[o],n=o;break}for(var s=0;s<i.length;s++)e<i[s]&&void 0===r[s]&&(e=i[s],n=s);r[n]=l+1}return r}function findNormalizedValues(){for(var matrixBlock=document.getElementById("matrixs"),allMatrixs=matrixBlock.childNodes,valid=validation.init(),arrAllNormalized=new Array(allMatrixs.length-2),div=0;div<allMatrixs.length-2;div++){var matrixWrap=allMatrixs.item(div),matrixDiv=matrixWrap.childNodes[0],isObj=matrixDiv.classList.contains("objMatrix"),rowsInMatrix=matrixDiv.childNodes,isUp=void 0;if(isObj){var firstRow=matrixDiv.childNodes[0],label=firstRow.childNodes.item(0),input=label.childNodes.item(0);isUp=input.checked}for(var lengthMatrix=rowsInMatrix.length-2,lengthCols=isObj?1:lengthMatrix,arrSum=new Array(lengthMatrix),arrComp=new Array(lengthMatrix),arrSqrt=new Array(lengthMatrix),arrSumCols=new Array(lengthMatrix),arrNormalized=new Array(lengthMatrix),sumRow=void 0,sumCol=void 0,compRow=void 0,sumComp=0,currentRow=void 0,resultCellSumComp=rowsInMatrix.item(lengthMatrix+1).childNodes[lengthMatrix+1],sqrtRow=void 0,sumSqrt=0,resultCellSumSqrt=rowsInMatrix.item(lengthMatrix+1).childNodes[lengthMatrix+2],resultCellSumNorm=isObj?rowsInMatrix.item(lengthMatrix+1).childNodes[2]:rowsInMatrix.item(lengthMatrix+1).childNodes[lengthMatrix+3],i=1;i<=lengthMatrix;i++){compRow=1,currentRow=rowsInMatrix.item(i);for(var resultCellComp=currentRow.childNodes[lengthMatrix+1],resultCellSqrt=currentRow.childNodes[lengthMatrix+2],j=1;j<=lengthCols;j++){var currentCell=currentRow.childNodes[j],reverseCell=rowsInMatrix.item(j).childNodes[i];if(isObj){if(!valid.isRightObjValue(currentCell))return!1}else if(i<j){if(!valid.isRightValue(currentCell))return!1;reverseCell.value=createReverseValue(currentCell)}compRow*=eval(currentCell.value)}isObj||(sumComp+=compRow,sqrtRow=Math.pow(compRow,1/lengthMatrix),sumSqrt+=sqrtRow,resultCellSqrt.value=+sqrtRow.toFixed(2),arrSqrt[i-1]=+sqrtRow.toFixed(2),resultCellComp.value=+compRow.toFixed(2),arrComp[i-1]=+compRow.toFixed(2))}isObj||(resultCellSumSqrt.value=+sumSqrt.toFixed(2),resultCellSumComp.value=+sumComp.toFixed(2));for(var _j=1;_j<=lengthCols;_j++){sumCol=0;for(var resultColCell=rowsInMatrix.item(lengthMatrix+1).childNodes[_j],_i2=1;_i2<=lengthMatrix;_i2++){var _currentCell=rowsInMatrix.item(_i2).childNodes[_j];sumCol+=eval(_currentCell.value)}resultColCell.value=+sumCol.toFixed(2),arrSumCols[_j-1]=+sumCol.toFixed(2)}if(isObj){for(var _i3=1;_i3<=lengthMatrix;_i3++){sumRow=0,currentRow=rowsInMatrix.item(_i3);for(var _j2=1;_j2<=lengthCols;_j2++){var _currentCell2=currentRow.childNodes[_j2];sumRow+=eval(_currentCell2.value)}arrSum[_i3-1]=sumRow}for(var sumValues=0,_i4=0;_i4<arrSum.length;_i4++)sumValues+=arrSum[_i4];if(!isUp){for(var _i5=0;_i5<arrSum.length;_i5++)arrSum[_i5]=sumValues/arrSum[_i5];sumValues=0;for(var _i6=0;_i6<arrSum.length;_i6++)sumValues+=arrSum[_i6]}for(var sumNorm=0,currentNorm=void 0,_i7=0;_i7<arrNormalized.length;_i7++)currentNorm=arrSum[_i7]/sumValues,sumNorm+=currentNorm,arrNormalized[_i7]=+currentNorm.toFixed(3);resultCellSumNorm.value=Math.round(sumNorm)}else{for(var _sumNorm=0,_currentNorm=void 0,_i8=0;_i8<arrNormalized.length;_i8++)_currentNorm=arrSqrt[_i8]/sumSqrt,_sumNorm+=_currentNorm,arrNormalized[_i8]=+_currentNorm.toFixed(3);resultCellSumNorm.value=Math.round(_sumNorm)}for(var resultColl=isObj?2:lengthMatrix+3,_i9=1;_i9<=lengthMatrix;_i9++){currentRow=rowsInMatrix.item(_i9);var resultCell=currentRow.childNodes.item(resultColl);resultCell.value=arrNormalized[_i9-1]}if(!isObj){var attitudeConsistency=findAttitudeConsistency(arrSumCols,arrNormalized);matrixWrap.childNodes[1]&&matrixWrap.removeChild(matrixWrap.childNodes[1]),matrixWrap.appendChild(attitudeConsistency)}arrAllNormalized[div]=arrNormalized}return arrAllNormalized}function calculate(t,e,n){var r=findNormalizedValues();if(r){var i=r[0];r.shift();var a=document.getElementById("main");(sectionResult=document.createElement("section")).setAttribute("id","resultContent"),sectionResult.classList.add("center");var l,o=e("criterions"),s=e("alternatives"),d=n(s,o,r,i);d.id="infoBlock",sectionResult.appendChild(d);for(var c=new Array(s.length),u=new Array(s.length),m=0;m<s.length;m++)u[m]=new Array(o.length);for(var p=0;p<s.length;p++)for(var h=0;h<o.length;h++)u[p][h]=r[h][p];for(var v=0;v<s.length;v++){for(var g=l=0;g<o.length;g++)l+=u[v][g]*i[g];c[v]=l.toFixed(3)}var f=rang(c),y=document.createElement("div");y.classList.add("matrix","center"),y.setAttribute("id","resultBlock");var x=document.createElement("div");x.classList.add("matrix","center"),x.style.marginTop="15px";var b=document.createElement("span");b.classList.add("span-matrix","center","inputData"),x.style.width="".concat(134*(s.length+1),"px");for(var C=0;C<=2;C++){var w=document.createElement("div");w.style.width="".concat(134*(s.length+1),"px");for(var E=0;E<s.length+1;E++){var M=b.cloneNode(!0);0===E&&0===C?(M.innerHTML="Альтернативы",M.classList.add("inputData_strong")):0===E&&1===C?(M.innerHTML="Глобальный приоритет",M.classList.add("inputData_strong")):0===E&&2===C?(M.innerHTML="Место",M.classList.add("inputData_strong")):M.innerHTML=0===C?s[E-1]:1===C?c[E-1]:f[E-1],1===f[E-1]&&M.classList.add("victory"),w.appendChild(M)}x.appendChild(w)}y.appendChild(x),document.getElementById("resultContent")&&a.removeChild(document.getElementById("resultContent")),sectionResult.appendChild(y),document.getElementById("calcButton").focus(),document.getElementById("resButton").removeAttribute("disabled");var N=Ext.getCmp("resultTab");N&&t.remove(N),N=t.add({title:"Итоговые результаты",id:"resultTab",closable:!0,bodyStyle:"background-image: url(img/content.png);",width:1100,items:[{bodyStyle:"background-image: url(img/content.png);",html:sectionResult.innerHTML,padding:"10",border:0}]})}}function getSectionResult(){return sectionResult}module.exports={run:calculate,getSectionResult:getSectionResult}}]);